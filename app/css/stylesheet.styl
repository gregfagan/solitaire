// <Boilerplate>
@import 'nib'

global-reset()

// Adapted from http://www.paulirish.com/2012/box-sizing-border-box-ftw/
*, *:before, *:after
    -moz-box-sizing: border-box;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
// </Boilerplate>

p-text-color = #454545
p-light-text-color = #999

background-navy = #0F2A42

accent-orange = #F58156
accent-blue = #2D82CC
accent-pink = #E359A6
accent-green = #3AB050
accent-yellow = #EFC554
accent-red = #FF4C57

@font-face
    font-family 'Exo'
    font-weight 900
    src local('Exo'), url(http://fonts.googleapis.com/css?family=Exo:400,900&subset=latin,latin-ext)

body
    background-color background-navy
    font-family 'Exo', sans-serif
    color p-text-color
    height 100%

// transform-style is not inherited by children. To maintain z space throughtout
// all elements on screen, give each the preserve-3d style.
#app
#board
#drawPile
#wastePile
#foundation
#tableau
div
    transform-style preserve-3d

#app
    width 100%
    height 100%
    position fixed
    perspective 400px

#board
    font-size 36px
    width 7 * 2.5em + 7 * 0.25em
    position relative
    margin 0.25em auto
    transform rotateX(5deg) translateZ(-1em)

#drawPile
#wastePile
    margin-bottom 1em
    margin-right 0.25em
    float left

#foundation
    margin-bottom 1em
    margin-right 0.25em
    .card
        float right
        margin-left 0.25em

#foundation
#tableau
    .slot
        cursor default

#tableau
    clear both

.dragging
    pointer-events none

.column
    float left
    margin-right 0.25em

.stack
    position relative

.cascade-none
    margin-bottom -3.5em

.cascade-down
    margin-bottom -2.9em

.card
    outline 1px solid transparent
    user-select none
    cursor pointer
    width 2.5em
    height 3.5em
    position relative
    transform-style preserve-3d
    .side
        position absolute
        display block
        width 100%
        height 100%
        backface-visibility hidden
        border-radius 0.25em
    .face
        background-color white
        font-weight bold
        .center
            line-height 2.95em
            text-align center
        .corner
            font-size 0.5em
            text-align left
        figure
            margin 0
            padding 0.2em
    .back
        background-color accent-orange
        border 0.18em solid white
        transform rotateY(180deg)
    .slot
        background none
        border 0.1em dashed p-light-text-color
    .red
        color darken(accent-red, 7%)
    .black
        color darken(p-text-color, 8%)
    object
        width 100%
        height 100%
        pointer-events none
        position absolute
    img
        display block
        position absolute
        width 100%
        backface-visibility hidden

.flipped
    transform rotateY(180deg)
